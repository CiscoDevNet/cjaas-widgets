<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customer Journey As A Service In Action</title>
    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://cjaas.cisco.com/web-components/v1/widgets.js"></script>

    <!-- older scripts -->
    <!-- <script
      type="module"
      src="https://cjaas.cisco.com/web-components/tape-reader/ref-cjs-web-components.js"
    ></script> -->

    <!-- for dev -->
    <!-- <script type="module" src="../dist/index.js"></script> -->

    <script
      type="module"
      src="https://cjaas.cisco.com/event-listener/ref-cjaas-requests.js"
    ></script>
    <style>
      .title {
        height: 280px;
        color: rgb(8, 67, 143);
      }
      .cta {
        height: auto;
      }
      .cta * {
        height: auto;
      }
      button {
        font-weight: bold;
      }

      .token-input {
        width: 320px;
      }
    </style>
    <script src="./demo.js"></script>
  </head>
  <body class="font-sans">
    <div
      class="title flex justify-center py-5 flex-col items-center bg-gradient-to-tr from-white via-blue-100 via-blue-100 to-purple-200"
    >
      <div class="text-5xl m-4 justify-center text-center">
        Customer Journey As A Service
      </div>
      <div class="text-3xl text-center">
        A Real Time Demo
      </div>
    </div>
    <div class="sm:container mx-auto">
      <div class="cta grid p-4 grid-cols-2 grid-row-3 gap-4 flex">
        <div class="flex flex-col row-start-1 col-start-1 items-start">
          <div class="text-xl py-4 text-indigo-700">
            Connect to the stream using the Shared Access Signature
          </div>
          <div class="text-base">
            Once connected, live widgets will reflect the events in realtime.
            <br />
            <br />
            Visit our
            <a
              href="https://demostore.cloudcherry.com"
              class="text-purple-700"
              target="_blank"
              >Demo Store</a
            >
            and interact with the site. Watch interactions captured in the
            widgets below.
          </div>
        </div>
        <div class="row-start-2 col-start-1">
          <div class="py-4 mt-4 text-xl text-indigo-700">
            Send Simulated Interactions to the stream.
          </div>
          <div class="py-2">
            Click on available buttons below or send your custom event using the
            form.
          </div>
          <div>
            <md-button onclick="recordCallWrap()"
              >Call Wrap Sentiment</md-button
            >
            <md-button onclick="recordNPS()">NPS Rating</md-button>
            `
            <md-button onclick="sunglassReturned()"
              >Sunglass Return Received</md-button
            >
          </div>
        </div>

        <div class="row-start-3 col-start-1">
          <div class="py-4 mt-4 text-xl text-indigo-700">
            Clear Tape
          </div>
          <div>
            Clear the Tape for a specific tenant. Removes all historic events
            for this tenant.
          </div>
        </div>
        <div class="py-4 row-start-1 col-start-2">
          <div><b>Connect to stream:</b></div>
          <md-input
            multiline
            id="token-input"
            placeholder="Enter the SAS Signature. Autoconnected to sandbox/demostore."
          ></md-input>
          <div>
            <md-button color="blue" onclick="connectToDB()">
              Connect
            </md-button>
          </div>
        </div>
        <div class="py-8 row-start-2 col-start-2">
          <b>Send Events to stream manually:</b>
          <div>
            <md-input
              type="text"
              id="event-name"
              placeholder="Enter Event Name"
            ></md-input>
          </div>
          <div>
            <md-input
              type="text"
              id="event-data"
              placeholder="Enter Additional Data"
            ></md-input>
          </div>
          <md-button onclick="sendEvent()">
            Send Event
          </md-button>
        </div>
        <div class="py-8 row-start-3 col-start-2">
          <b>Clear Tape:</b>
          <div>
            <md-input
              type="text"
              id="tenant-name"
              placeholder="Enter Tenant Name"
            ></md-input>
          </div>
          <md-button onclick="clearTape()">
            Clear Data
          </md-button>
        </div>
      </div>
    </div>
    <hr />
    <div class="sm:container mx-auto grid grid-cols-2 p-2">
      <div class="p-4">
        <span class="text-2xl text-blue-700">Live View Widget</span>
        <cjs-activity-stream
          id="cjs-widget"
          type="livestream"
          render-as="bullets"
          limit="15"
        >
        </cjs-activity-stream>
      </div>
      <div class="py-4">
        <b>Configure:</b>
        <!-- type selector -->
        <div>
          Listen To:
          <md-radiogroup id="type" checked="0" group-label="component-type">
            <md-radio slot="radio" value="livestream"
              >Livestream Events</md-radio
            >
            <md-radio slot="radio" value="journey">Historical Events</md-radio>
            <md-radio slot="radio" value="journey-and-stream"
              >Activity (Past & Realtime)</md-radio
            >
          </md-radiogroup>
        </div>
        <!-- filter -->
        <div class="my-2">
          Filter:
          <md-input
            type="text"
            id="filter-input"
            placeholder="Add Filter"
          ></md-input>
        </div>
        <!-- paginations -->
        <div class="my-2">
          Paginators:
          <md-input
            type="text"
            id="paginator-input"
            placeholder="Add Paginators"
          ></md-input>
        </div>
        <b>Customize:</b>
        <!-- brand-color -->
        <div class="my-2">
          Brand brand-color:
          <md-input
            type="text"
            id="brand-color-input"
            placeholder="Add Brand Colors"
          ></md-input>
        </div>
        <!-- dark-mode -->
        <div class="my-2">
          <md-button onclick="updateWidget()">Update</md-button>
        </div>
      </div>
      <!-- <div class="p-4">
          <span class="text-2xl text-blue-700">Last 10 events Widget</span>
          <cjs-activity-stream id="cjs-tape" type="journey" render-as="bullets" pagination="$top=15" ></cjs-activity-stream>
        </div> -->
    </div>
  </body>
</html>
